<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      /*
            闭包应用-计算打车价格
             起步价 13块（3公里内） 之后多一公里增加 5块
                用户输入公里数就可计算价格
            如有拥堵情况， 总价格多收10块钱拥堵费
        */

      var car = (function () {
        var start = 13;
        var total = 0;
        return {
          price: function (n) {
            if (n <= 3) {
              total = start;
            } else {
              total = start + (n - 3) * 5;
            }
            return total;
          },
          // 拥堵后费用
          yd: function (flag) {
            return flag ? total + 10 : total;
          },
        };
      })();
      console.log(car.price(5));
      console.log(car.price(4));
      console.log(car.yd(true));
    </script>
  </body>
</html>
